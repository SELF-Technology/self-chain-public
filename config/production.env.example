# SELF Chain Production Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================

# Environment type: development, staging, production
SELF_CHAIN_ENV=production

# =============================================================================
# AI MODEL CONFIGURATION (PRODUCTION)
# =============================================================================

# Primary AI endpoint (replace with your cloud deployment)
AI_PRODUCTION_ENDPOINT=https://ai-consensus.selfchain.aws.com/v1/

# Backup AI endpoints for failover (comma-separated)
AI_BACKUP_ENDPOINTS=https://ai-consensus-us-west.selfchain.aws.com/v1/,https://ai-consensus-eu-west.selfchain.aws.com/v1/,https://ai-consensus-ap-southeast.selfchain.aws.com/v1/

# AI model configuration
AI_PRODUCTION_MODEL=mistral:7b-instruct
AI_MAX_TOKENS=2048
AI_TEMPERATURE=0.7

# API authentication
AI_PRODUCTION_API_KEY=your-production-api-key-here
# Alternative: AWS Secrets Manager key
AWS_AI_API_KEY=your-aws-secrets-manager-key

# Request configuration
AI_TIMEOUT_MS=5000
AI_RETRY_ATTEMPTS=3

# =============================================================================
# STAGING CONFIGURATION (for testing)
# =============================================================================

# Staging AI endpoints
AI_STAGING_ENDPOINT=https://ai-consensus-staging.selfchain.aws.com/v1/
AI_STAGING_BACKUP_1=https://ai-consensus-staging-us-west.selfchain.aws.com/v1/
AI_STAGING_MODEL=mistral:7b-instruct
AI_STAGING_API_KEY=your-staging-api-key-here

# =============================================================================
# TLS/SSL CONFIGURATION
# =============================================================================

# TLS certificates for mutual authentication
AI_CA_CERT_PATH=/app/certs/ca.crt
AI_CLIENT_CERT_PATH=/app/certs/client.crt
AI_CLIENT_KEY_PATH=/app/certs/client.key

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Node network settings
HOST=0.0.0.0
PORT=8080

# P2P network settings
P2P_LISTEN_ADDR=0.0.0.0:8000
P2P_EXTERNAL_ADDR=your-public-ip-or-domain:8000

# Bootstrap nodes (comma-separated)
BOOTSTRAP_NODES=node1.selfchain.com:8000,node2.selfchain.com:8000,node3.selfchain.com:8000

# =============================================================================
# CLOUD PROVIDER CONFIGURATION
# =============================================================================

# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# Google Cloud Platform
GCP_PROJECT_ID=your-gcp-project-id
GCP_REGION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=/app/config/gcp-service-account.json

# Azure
AZURE_SUBSCRIPTION_ID=your-azure-subscription-id
AZURE_RESOURCE_GROUP=selfchain-rg
AZURE_REGION=eastus

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# IPFS configuration
IPFS_API=https://your-ipfs-node.com:5001/api/v0
IPFS_GATEWAY=https://your-ipfs-gateway.com/ipfs/
IPFS_SWARM_KEY=your-ipfs-swarm-key

# Cloud storage
CLOUD_STORAGE_ENABLED=true
STORAGE_DATA_DIR=/app/data
STORAGE_MAX_SIZE=10737418240  # 10GB

# OrbitDB configuration
ORBITDB_DIRECTORY=/app/data/orbitdb
ORBITDB_RECOVERY_MODE=false

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT configuration
JWT_SECRET=your-super-secure-jwt-secret-here-min-32-chars
JWT_EXPIRATION=3600  # 1 hour

# API security
API_KEY_LENGTH=64
PASSWORD_SALT_ROUNDS=12

# TLS configuration
TLS_ENABLED=true
TLS_CERT_PATH=/app/certs/node.crt
TLS_KEY_PATH=/app/certs/node.key

# Firewall and access control
ALLOWED_IPS=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
SECURITY_GROUP=self-chain-sg

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Metrics endpoint
METRICS_ENDPOINT=https://metrics.selfchain.aws.com/
METRICS_PORT=9100
METRICS_ENABLED=true

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_TRACING=true

# Health check configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# CONSENSUS CONFIGURATION
# =============================================================================

# PoAI consensus settings
CONSENSUS_ALGORITHM=poai
BLOCK_TIME_SECS=10
DIFFICULTY_ADJUSTMENT=1000

# Validator configuration
MIN_STAKE=1000000  # 1M SELF tokens
MIN_ACTIVE_HOURS=24
VALIDATION_WINDOW=300  # 5 minutes
MAX_PENDING_VALIDATIONS=100

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Connection limits
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT_SECS=30
MESSAGE_TIMEOUT_SECS=10

# Thread pool configuration
THREAD_POOL_SIZE=8
ASYNC_RUNTIME_THREADS=4

# Memory limits
MAX_MEMORY_MB=4096
CACHE_SIZE_MB=512

# =============================================================================
# BUSINESS CONFIGURATION
# =============================================================================

# Multi-tenant SaaS settings
TENANT_ISOLATION_ENABLED=true
AUTO_SCALING_ENABLED=true
BILLING_ENABLED=true

# API rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST_CAPACITY=100

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================

# Uncomment these for development/testing
# SELF_CHAIN_ENV=development
# AI_PRODUCTION_ENDPOINT=http://localhost:3000/v1/
# TLS_ENABLED=false
# LOG_LEVEL=DEBUG
# METRICS_ENABLED=false

# =============================================================================
# DOCKER/KUBERNETES CONFIGURATION
# =============================================================================

# Container configuration
CONTAINER_IMAGE=self-chain-node:latest
CONTAINER_CPU_LIMIT=2
CONTAINER_MEMORY_LIMIT=4Gi
CONTAINER_STORAGE_SIZE=20Gi

# Kubernetes namespace
K8S_NAMESPACE=self-chain-production
K8S_SERVICE_ACCOUNT=self-chain-sa

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Backup configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=6
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_BUCKET=selfchain-backups

# Recovery configuration
RECOVERY_MODE=false
RECOVERY_ENDPOINT=https://recovery.selfchain.aws.com/
RECOVERY_AUTH_TOKEN=your-recovery-token

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
FEATURE_SMART_CONTRACTS=true
FEATURE_MULTI_TENANT=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_FEDERATION=false

# =============================================================================
# NOTIFICATIONS
# =============================================================================

# Alert configuration
ALERT_WEBHOOK_URL=https://hooks.slack.com/your-webhook-url
ALERT_EMAIL=alerts@selfchain.com
ALERT_PHONE=+1234567890

# Notification thresholds
ALERT_CPU_THRESHOLD=80
ALERT_MEMORY_THRESHOLD=85
ALERT_DISK_THRESHOLD=90
ALERT_ERROR_RATE_THRESHOLD=5

# =============================================================================
# ANALYTICS AND REPORTING
# =============================================================================

# Analytics endpoints
ANALYTICS_ENDPOINT=https://analytics.selfchain.aws.com/
ANALYTICS_API_KEY=your-analytics-api-key

# Reporting configuration
DAILY_REPORTS_ENABLED=true
WEEKLY_REPORTS_ENABLED=true
MONTHLY_REPORTS_ENABLED=true
REPORT_EMAIL=reports@selfchain.com

# =============================================================================
# NOTES
# =============================================================================

# 1. Replace all placeholder values (your-*, example.com) with actual values
# 2. Store sensitive values like API keys in your secrets management system
# 3. Use environment-specific values for different deployments
# 4. Regularly rotate API keys and certificates
# 5. Monitor resource usage and adjust limits as needed
# 6. Test configuration changes in staging before production
# 7. Keep this file secure and never commit actual secrets to version control

# For local development, copy this file to .env.local and update accordingly
# For staging, copy to .env.staging
# For production, copy to .env.production
