"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2275],{1432:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"Roadmap/Token/Smart-Contract-Architecture","title":"SELF Token Smart Contract Architecture","description":"Overview","source":"@site/docs/Roadmap/Token/Smart-Contract-Architecture.md","sourceDirName":"Roadmap/Token","slug":"/Roadmap/Token/Smart-Contract-Architecture","permalink":"/Roadmap/Token/Smart-Contract-Architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_label":"\ud83d\udd17 Smart Contract Architecture","sidebar_position":3},"sidebar":"docs","previous":{"title":"\ud83c\udf1f Overview","permalink":"/Roadmap/Token/Overview"},"next":{"title":"\ud83d\udcca Tokenomics","permalink":"/Roadmap/Token/Tokenomics"}}');var r=i(4848),t=i(8453);const a={sidebar_label:"\ud83d\udd17 Smart Contract Architecture",sidebar_position:3},l="SELF Token Smart Contract Architecture",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Contract Structure",id:"contract-structure",level:2},{value:"Core Components",id:"core-components",level:3},{value:"Key Features",id:"key-features",level:2},{value:"1. Non-Custodial Staking",id:"1-non-custodial-staking",level:3},{value:"2. Dynamic Subscription Pricing",id:"2-dynamic-subscription-pricing",level:3},{value:"3. Deflationary Mechanics",id:"3-deflationary-mechanics",level:3},{value:"4. Security Features",id:"4-security-features",level:3},{value:"Integration Guide",id:"integration-guide",level:2},{value:"For DEXs",id:"for-dexs",level:3},{value:"For Applications",id:"for-applications",level:3},{value:"For Wallets",id:"for-wallets",level:3},{value:"Gas Optimization",id:"gas-optimization",level:2},{value:"Development Setup",id:"development-setup",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Compile Contracts",id:"compile-contracts",level:3},{value:"Run Tests",id:"run-tests",level:3},{value:"Deploy to Mainnet",id:"deploy-to-mainnet",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Auditing Strategy",id:"auditing-strategy",level:3},{value:"Best Practices",id:"best-practices",level:3},{value:"Contract Addresses",id:"contract-addresses",level:2},{value:"Testnet (Goerli)",id:"testnet-goerli",level:3},{value:"Mainnet",id:"mainnet",level:3},{value:"Resources",id:"resources",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"self-token-smart-contract-architecture",children:"SELF Token Smart Contract Architecture"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The SELF token smart contract system is designed with modularity, security, and future migration in mind. Built on Ethereum as an ERC-20 token, it includes advanced features for staking, subscriptions, and governance while preparing for eventual migration to SELF Chain."}),"\n",(0,r.jsx)(n.h2,{id:"contract-structure",children:"Contract Structure"}),"\n",(0,r.jsx)(n.h3,{id:"core-components",children:"Core Components"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"contracts/\n\u251c\u2500\u2500 SELFToken.sol           # Main ERC-20 token contract\n\u251c\u2500\u2500 SELFOracle.sol          # Price oracle for USD conversions\n\u251c\u2500\u2500 interfaces/\n\u2502   \u2514\u2500\u2500 ISELFToken.sol      # Interface for integrations\n\u2514\u2500\u2500 future/\n    \u251c\u2500\u2500 SELFBridge.sol      # Future bridge to SELF Chain\n    \u2514\u2500\u2500 SELFGovernance.sol  # Future governance module\n"})}),"\n",(0,r.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsx)(n.h3,{id:"1-non-custodial-staking",children:"1. Non-Custodial Staking"}),"\n",(0,r.jsx)(n.p,{children:"Unlike traditional staking, users retain full custody of their tokens:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"// Tokens stay in user wallet\nmapping(address => StakeInfo) public stakes;\n\nstruct StakeInfo {\n    uint256 amount;        // Staked amount\n    uint256 timestamp;     // Stake time\n    uint256 tier;         // User tier level\n    uint256 rewards;      // Accumulated rewards\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Benefits"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No smart contract risk for staked tokens"}),"\n",(0,r.jsx)(n.li,{children:"Instant liquidity if needed"}),"\n",(0,r.jsx)(n.li,{children:"Simplified tax implications"}),"\n",(0,r.jsx)(n.li,{children:"Better user experience"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-dynamic-subscription-pricing",children:"2. Dynamic Subscription Pricing"}),"\n",(0,r.jsx)(n.p,{children:"Oracle integration enables USD-based pricing:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"// Price subscriptions in USD, pay in SELF\nfunction purchaseSubscription(uint256 tierUSD, uint256 duration) {\n    uint256 selfAmount = oracle.usdToSelf(tierUSD);\n    // Process payment in SELF tokens\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-deflationary-mechanics",children:"3. Deflationary Mechanics"}),"\n",(0,r.jsx)(n.p,{children:"Multiple burn mechanisms create deflationary pressure:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"50% of subscription payments burned"}),"\n",(0,r.jsx)(n.li,{children:"Buyback program burns 40% of repurchased tokens"}),"\n",(0,r.jsx)(n.li,{children:"Optional user burns for special features"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"4-security-features",children:"4. Security Features"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Access Control"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Role-based permissions (DEFAULT_ADMIN, PAUSER, TREASURY)"}),"\n",(0,r.jsx)(n.li,{children:"Multi-signature requirement for critical functions"}),"\n",(0,r.jsx)(n.li,{children:"Time-locked admin actions"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Safety Mechanisms"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Pausable in emergencies"}),"\n",(0,r.jsx)(n.li,{children:"Reentrancy guards"}),"\n",(0,r.jsx)(n.li,{children:"Snapshot capability for migrations"}),"\n",(0,r.jsx)(n.li,{children:"Prevention of staked token transfers"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integration-guide",children:"Integration Guide"}),"\n",(0,r.jsx)(n.h3,{id:"for-dexs",children:"For DEXs"}),"\n",(0,r.jsx)(n.p,{children:"Standard ERC-20 interface ensures compatibility:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Uniswap V3 pool creation\nconst pool = await factory.createPool(\n    SELF_TOKEN_ADDRESS,\n    WETH_ADDRESS,\n    3000 // 0.3% fee tier\n);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"for-applications",children:"For Applications"}),"\n",(0,r.jsx)(n.p,{children:"Check user tier and subscription status:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const self = new ethers.Contract(SELF_ADDRESS, SELF_ABI, provider);\nconst userTier = await self.getUserTier(userAddress);\nconst isActive = await self.isSubscriptionActive(userAddress);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"for-wallets",children:"For Wallets"}),"\n",(0,r.jsx)(n.p,{children:"Display staking information:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const stakeInfo = await self.stakes(userAddress);\nconst rewards = await self.calculateRewards(userAddress);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"gas-optimization",children:"Gas Optimization"}),"\n",(0,r.jsx)(n.p,{children:"The contract employs several gas-saving techniques:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Packed struct storage"}),"\n",(0,r.jsx)(n.li,{children:"Minimal external calls"}),"\n",(0,r.jsx)(n.li,{children:"Efficient reward calculations"}),"\n",(0,r.jsx)(n.li,{children:"Batch operations where possible"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Estimated Gas Costs"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Token Transfer: ~65,000 gas"}),"\n",(0,r.jsx)(n.li,{children:"Stake/Unstake: ~85,000 gas"}),"\n",(0,r.jsx)(n.li,{children:"Claim Rewards: ~75,000 gas"}),"\n",(0,r.jsx)(n.li,{children:"Purchase Subscription: ~120,000 gas"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"development-setup",children:"Development Setup"}),"\n",(0,r.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev hardhat @openzeppelin/contracts\n"})}),"\n",(0,r.jsx)(n.h3,{id:"compile-contracts",children:"Compile Contracts"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx hardhat compile\n"})}),"\n",(0,r.jsx)(n.h3,{id:"run-tests",children:"Run Tests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx hardhat test\n"})}),"\n",(0,r.jsx)(n.h3,{id:"deploy-to-mainnet",children:"Deploy to Mainnet"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx hardhat run scripts/deploy.js --network mainnet\n"})}),"\n",(0,r.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"auditing-strategy",children:"Auditing Strategy"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Internal review and testing"}),"\n",(0,r.jsx)(n.li,{children:"Community bug bounty program"}),"\n",(0,r.jsx)(n.li,{children:"Professional audit before mainnet"}),"\n",(0,r.jsx)(n.li,{children:"Continuous monitoring post-launch"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Immutable core functions"}),"\n",(0,r.jsx)(n.li,{children:"Upgradeable auxiliary features"}),"\n",(0,r.jsx)(n.li,{children:"Clear documentation"}),"\n",(0,r.jsx)(n.li,{children:"Comprehensive event logging"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"contract-addresses",children:"Contract Addresses"}),"\n",(0,r.jsx)(n.h3,{id:"testnet-goerli",children:"Testnet (Goerli)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Token: ",(0,r.jsx)(n.code,{children:"[To be deployed]"})]}),"\n",(0,r.jsxs)(n.li,{children:["Oracle: ",(0,r.jsx)(n.code,{children:"[To be deployed]"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"mainnet",children:"Mainnet"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Token: ",(0,r.jsx)(n.code,{children:"[To be deployed]"})]}),"\n",(0,r.jsxs)(n.li,{children:["Oracle: ",(0,r.jsx)(n.code,{children:"[To be deployed]"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/SELF-Technology/self-chain-public/tree/main/contracts",children:"GitHub Repository"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/SELF-Technology/self-chain-public/tree/main/contracts",children:"Technical Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/SELF-Technology/self-chain-public/tree/main/contracts",children:"Integration Examples"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/SELF-Technology/self-chain-public/tree/main/contracts",children:"Security Audits"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"The SELF token smart contract architecture provides robust features for staking, subscriptions, and ecosystem participation while maintaining security and efficiency."})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var s=i(6540);const r={},t=s.createContext(r);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);
//# sourceMappingURL=e003506e.3cab793b.js.map